!function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=2)}([function(t,e,n){function i(t){return Object.keys(t).reduce(function(e,n){return e[t[n]]=n,e},{})}function o(t){return new RegExp("("+Object.keys(t).join("|")+")","g")}function a(t){return-1!==t.search(/[a-z]/)}function r(t){return[t,s(t),d(t)]}function s(t){return u(t,{letters:c,reg:p},{letters:_,reg:v})}function d(t){return u(t,{letters:l,reg:h},{letters:m,reg:f})}function u(t,e,n){var i=a(t)?e:n;return t.replace(i.reg,function(t){return i.letters[t]||t})}var c=n(5),l=n(6),p=o(c),h=o(l),_=i(c),m=i(l),v=o(_),f=o(m);t.exports.getAllVariations=r,t.exports.fixKeyboardMistake=s,t.exports.toTranslite=d},function(t,e,n){function i(t,e,n){var i=new XMLHttpRequest;i.open("GET",t),i.send(),i.onreadystatechange=function(){4===i.readyState&&(200===i.status?e(i.responseText):n({error:"Неполучилось достать данные"}))}}function o(t,e,n){return(t=t.trim().toLowerCase())?r[t]?e(r[t]):void i("/api/users-by-page/"+encodeURIComponent(t.trim()),function(i){try{i=JSON.parse(i)}catch(t){return void n({error:"Проблема с данными"})}if(i.error)return void n(i);r[t]=i,e(i)},n):e([])}function a(t,e,n){var i;return function(){var o=n||this,a=arguments;i&&clearTimeout(i),i=setTimeout(function(){t.apply(o,a),i=null},e)}}var r={};t.exports.getAllVariations=n(0).getAllVariations,t.exports.fixKeyboardMistake=n(0).fixKeyboardMistake,t.exports.toTranslite=n(0).toTranslite,t.exports.searchByPage=o,t.exports.bounce=a},function(t,e,n){function i(t,e){e=e||{};var n=document.createElement("div"),i=document.createElement("h2"),r=document.createElement("div");n.classList.add("example-item"),i.textContent=t,n.appendChild(i),n.appendChild(r),e.placeholder=e.placeholder||"Выберите пользователя",e.items=a.map(function(t){return{title:t.name,value:t.id,avatar:t.avatar,page:t.page}}),new o(r,e),document.body.appendChild(n)}var o=n(3),a=n(9);n(10),i("Простой список"),i("Выбор нескольких пунктов",{multi:!0}),i("Поиск",{autocomplete:!0,placeholder:"Начните вводить имя"}),i("Поиск c выбором нескольких пунктов",{multi:!0,autocomplete:!0,placeholder:"Начните вводить имя"}),i("Поиск c возможностью поиска по странице",{autocomplete:!0,page:!0,placeholder:"Начните вводить имя"}),i("С аватарками",{avatar:!0})},function(t,e,n){function i(t,e){e=e||{},this._avatar=!!e.avatar,this._page=!!e.page,o.apply(this,arguments)}var o=n(4),a=n(1);n(8),i.prototype=Object.create(o.prototype),i.prototype._createItem=function(t){var e=o.prototype._createItem.apply(this,arguments);return this._addUserPage(e,t),this._addUserAvatar(e,t),e},i.prototype._addUserPage=function(t,e){var n,i,o,a,r;if(this._page&&e.page){for(n=document.createElement("div"),n.classList.add("user-dropdown-item-text"),i=document.createElement("p"),i.classList.add("user-dropdown-item-title"),i.classList.add("dropdown_one-line"),a=0,r=t.childNodes.length;a<r;a++)t.childNodes[a].nodeType===Document.TEXT_NODE&&i.appendChild(t.firstChild);n.appendChild(i),o=document.createElement("p"),o.classList.add("user-dropdown-item-page"),o.textContent="@"+e.page,n.appendChild(o),t.appendChild(n)}},i.prototype._addUserAvatar=function(t,e){this._avatar&&(t.classList.add("user-dropdown-item_with_avatar"),$avatar=document.createElement("span"),$avatar.classList.add("user-dropdown-item-avatar"),e.avatar&&($img=document.createElement("img"),$img.src="img/"+e.avatar,$img.classList.add("user-dropdown-item-img"),$avatar.appendChild($img)),t.insertBefore($avatar,t.firstChild))},i.prototype._onSearch=function(){var t=this;this._getSearchIds(function(e){e=e.filter(function(e){return t._multi?-1===t._value.indexOf(Number(e)):t._value!==Number(e)}),e.length?t._hideNotFoundItems(e):t._showNoData("Ничего не найдено")})},i.prototype._getSearchIds=function(t){var e=this;if(!e._page)return void t(o.prototype._getSearchIds.call(e));a.searchByPage(e._$input.value,function(n){t(o.prototype._getSearchIds.call(e).concat(n))},function(n){t(o.prototype._getSearchIds.call(e))})},t.exports=i},function(t,e,n){function i(t,e){e=e||{},this._$container=t,this._multi=!!e.multi,this._autocomplete=!!e.autocomplete,this._placeholder=e.placeholder||"Выберите значение",this._items=[],this._resetValues(),this._onSearch=o.bounce(this._onSearch,300,this),this.create(),this.setItems(e.items)}var o=n(1);n(7),i.prototype.create=function(){return this._$container.classList.contains("dropdown")?(console.error("DropDown уже создан для этого элемента",this._$container),this):(this._$container.classList.add("dropdown"),this._$container.innerHTML="",this._$container.appendChild(this._createValue()),this._$container.appendChild(this._createPopup()),this)},i.prototype.destroy=function(){var t,e,n;if(this._$container)return console.error("Для элемента не создан DropDown",this._$container),this;for(e=0,n=this._$container.classList.length;e<n;e++)t=this._$container.classList[e],0===t.indexOf("dropdown")&&this._$container.classList.remove(t);return this._$container.innerHTML="",this._resetValues(),this},i.prototype._resetValues=function(){this._$input=null,this._$popup=null,this._$list=null,this._$noData=null,this._value=this._multi?[]:null},i.prototype.getVal=function(){return this._value},i.prototype.setItems=function(t){return this._items=t||[],this._autocomplete&&(this._items=this._items.map(function(t){var e=t.title.toLowerCase().split(" ");return t.search={},t.search.original=e,t.search.translite=e.map(function(t){return o.toTranslite(t)}),t})),t&&t.length?this._showList(t):this._showNoData(noDataMessage),this},i.prototype._createValue=function(){var t=document.createElement("div");return t.classList.add("dropdown-value"),t.classList.add("dropdown-value_empty"),this._addValueIcon(t),this._addValueClear(t),this._addValueCurrent(t),this._addValueInput(t),t},i.prototype._addValueIcon=function(t){var e=document.createElement("span");e.classList.add("dropdown-value-icon"),e.addEventListener("mousedown",function(t){t.preventDefault(),t.stopPropagation(),this._$container.classList.contains("dropdown_open")?this._$input.blur():this._$input.focus()}.bind(this)),t.appendChild(e)},i.prototype._addValueClear=function(t){if(!this._multi){var e=document.createElement("span");e.classList.add("dropdown-value-clear"),e.addEventListener("mousedown",function(t){t.preventDefault(),t.stopPropagation(),this._onRemoveCurrentItem()}.bind(this)),t.appendChild(e)}},i.prototype._addValueCurrent=function(t){var e=document.createElement("div");e.classList.add("dropdown-current"),this._autocomplete||(e.appendChild(this._createValuePlaceholder()),this._multi||e.classList.add("dropdown_one-line")),t.appendChild(e)},i.prototype._createValuePlaceholder=function(){var t=document.createElement("span");return t.classList.add("dropdown-current-placeholder"),t.textContent=this._placeholder,t},i.prototype._addValueInput=function(t){if(!this._autocomplete)return void this._addValueHiddenInput(t);this._$input=document.createElement("input"),this._$input.type="search",this._$input.classList.add("dropdown-input"),this._$input.placeholder=this._placeholder,this._$input.addEventListener("input",this._onSearch),this._$input.addEventListener("focus",function(){this._$container.classList.add("dropdown_open")}.bind(this)),this._$input.addEventListener("blur",function(){this._$container.classList.remove("dropdown_open")}.bind(this)),t.appendChild(this._$input)},i.prototype._addValueHiddenInput=function(t){var e=this;this._$input=document.createElement("input"),this._$input.classList.add("dropdown-input_hidden"),this._$input.addEventListener("focus",function(){e._$container.classList.add("dropdown_open")}),this._$input.addEventListener("blur",function(){e._$container.classList.remove("dropdown_open")}),this._$input.addEventListener("keydown",function(t){t.preventDefault()}),t.appendChild(this._$input),t.addEventListener("mousedown",function(t){t.preventDefault(),e._$input.focus()})},i.prototype._createPopup=function(){return this._$popup=document.createElement("div"),this._$popup.classList.add("dropdown-popup"),this._$list=document.createElement("ul"),this._$list.classList.add("dropdown-list"),this._$popup.appendChild(this._$list),this._$noData=document.createElement("div"),this._$noData.classList.add("dropdown-list-no-data"),this._$noData.textContent="",this._$popup.appendChild(this._$noData),this._$popup},i.prototype._createItem=function(t){var e=document.createElement("li");return e.classList.add("dropdown-list-item"),e.classList.add("dropdown_one-line"),e.textContent=t.title,e.setAttribute("data-value",t.value),e},i.prototype._createCurrentItem=function(t){var e=document.createElement("span"),n=document.createElement("span"),i=document.createElement("span");return e.classList.add("dropdown-current-item"),e.classList.add("dropdown_one-line"),i.classList.add("dropdown-current-item-delete"),i.addEventListener("click",function(){e.parentNode.removeChild(e),this._onRemoveCurrentItem(t)}.bind(this)),e.appendChild(i),n.textContent=t.title,e.appendChild(n),e},i.prototype._showList=function(t){var e=this;this._$container.classList.remove("dropdown_no-data"),this._$list.innerHTML="",t.filter(function(t){return e._multi?-1===e._value.indexOf(t.value):e._value!==t.value}).forEach(function(t){var n=e._createItem(t);n.addEventListener("mousedown",function(){e._onSelect(n,t)}),e._$list.appendChild(n)})},i.prototype._showNoData=function(t){t=t||"Нет данных",this._$container.classList.add("dropdown_no-data"),this._$noData.innerHTML=t},i.prototype._onRemoveCurrentItem=function(t){var e,n,i=this._$container.querySelector(".dropdown-current"),o=".dropdown-list-item_selected";this._multi?(n=this._value.indexOf(t.value),n>=0&&(this._value=this._value.slice(0,n).concat(this._value.slice(n+1))),o+='[data-value="'+t.value+'"]'):(this._value=null,i.innerHTML=""),e=this._$container.querySelector(o),e&&e.classList.remove("dropdown-list-item_selected"),this._value&&this._value.length||(this._$container.querySelector(".dropdown-value").classList.add("dropdown-value_empty"),this._autocomplete||i.appendChild(this._createValuePlaceholder())),this._autocomplete&&(this._$input.value="",this._onSearch())},i.prototype._onSelect=function(t,e){var n,i,o,a=this._$container.querySelector(".dropdown-current"),r=this._$container.querySelector(".dropdown-value");this._multi?(this._value.push(e.value),a.appendChild(this._createCurrentItem(e)),(o=a.querySelector(".dropdown-current-placeholder"))&&o.parentNode.removeChild(o)):(i=this._$container.querySelector(".dropdown-list-item_selected"),i&&i.classList.remove("dropdown-list-item_selected"),this._value=e.value,n=document.createElement("span"),n.classList.add("dropdown-current-value"),n.classList.add("dropdown_one-line"),n.textContent=e.title,a.innerHTML="",a.appendChild(n)),this._autocomplete&&(this._$input.value="",this._onSearch()),t.classList.add("dropdown-list-item_selected"),r.classList.remove("dropdown-value_empty")},i.prototype._onSearch=function(){var t=this._getSearchIds();t=t.filter(function(t){return this._multi?-1===this._value.indexOf(Number(t)):this._value!==Number(t)}.bind(this)),t.length?this._hideNotFoundItems(t):this._showNoData("Ничего не найдено")},i.prototype._hideNotFoundItems=function(t){var e,n,i,o,a=this._$container.querySelectorAll(".dropdown-list-item");for(this._$container.classList.remove("dropdown_no-data"),i=0,o=a.length;i<o;i++)e=a[i],n=-1===t.indexOf(e.getAttribute("data-value"))?"add":"remove",e.classList[n]("dropdown-list-item_hidden")},i.prototype._getSearchWords=function(){return this._$input.value.trim().toLowerCase().split(" ").map(function(t){if(t)return o.getAllVariations(t)}).filter(Boolean)},i.prototype._getSearchIds=function(){var t=this._getSearchWords();return this._items.filter(function(e){return t.every(function(t){return t.some(function(t){return e.search.original.some(function(e){return-1!==e.indexOf(t)})||e.search.translite.some(function(e){return-1!==e.indexOf(t)})})})}).map(function(t){return String(t.value)})},t.exports=i},function(t,e){t.exports={q:"й",w:"ц",e:"у",r:"к",t:"е",y:"н",u:"г",i:"ш",o:"щ",p:"з","[":"х","{":"ъ","]":"х","}":"ъ",a:"ф",s:"ы",d:"в",f:"а",g:"п",h:"р",j:"о",k:"л",l:"д",";":"ж","'":"э","§":"ё",z:"я",x:"ч",c:"с",v:"м",b:"и",n:"т",m:"ь",",":"б",".":"ю"}},function(t,e){t.exports={a:"а",b:"б",v:"в",g:"г",d:"д",e:"е",yo:"ё",zh:"ж",z:"з",i:"и",j:"й",k:"к",l:"л",m:"м",n:"н",o:"о",p:"п",r:"р",s:"с",t:"т",u:"у",f:"ф",x:"х",c:"ц",ch:"ч",sh:"ш",shh:"щ","''":"ъ","y'":"ы","'":"ь","e'":"э",yu:"ю",ya:"я"}},function(t,e){},function(t,e){},function(t,e){t.exports=[{id:11,name:"Peter Jackson",avatar:"one.jpg",page:"peter_j"},{id:22,name:"Sam Peterson",avatar:"two.jpg"},{id:33,name:"Дарья Сомойлова",page:"daria"},{id:44,name:"Дима Фокин",avatar:"one.jpg",page:"fokin"},{id:55,name:"Наташа Измайлова",avatar:"one.jpg",page:"hello"},{id:66,name:"Марк Цукерберк"},{id:77,name:"Владислав Медведев",avatar:"one.jpg"},{id:88,name:"Elon Musk",avatar:"two.jpg",page:"space-x"},{id:99,name:"Hello Kitty",avatar:"two.jpg"},{id:100,name:"Марио Супер",avatar:"two.jpg"}]},function(t,e){}]);